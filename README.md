# ğŸ° å»ä¸­å¿ƒåŒ–èµ›å½©ç³»ç»Ÿ (Decentralized Betting System)

[![Ethereum](https://img.shields.io/badge/Ethereum-3C3C3D?style=for-the-badge&logo=Ethereum&logoColor=white)](https://ethereum.org/)
[![Solidity](https://img.shields.io/badge/Solidity-e6e6e6?style=for-the-badge&logo=solidity&logoColor=black)](https://soliditylang.org/)
[![React](https://img.shields.io/badge/React-20232A?style=for-the-badge&logo=react&logoColor=61DAFB)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=for-the-badge&logo=typescript&logoColor=white)](https://www.typescriptlang.org/)

åŸºäºä»¥å¤ªåŠçš„å»ä¸­å¿ƒåŒ–èµ›å½©å¹³å°ï¼Œæ”¯æŒå¤šé¡¹ç›®ç«çŒœï¼ŒERC721å½©ç¥¨å‡­è¯ï¼ŒäºŒçº§å¸‚åœºäº¤æ˜“ã€‚

## ğŸ“‹ ç›®å½•

- [ğŸ¯ é¡¹ç›®ç®€ä»‹](#-é¡¹ç›®ç®€ä»‹)
- [âœ¨ æ ¸å¿ƒç‰¹æ€§](#-æ ¸å¿ƒç‰¹æ€§)
- [ğŸš€ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [ğŸ“¦ å®‰è£…éƒ¨ç½²](#-å®‰è£…éƒ¨ç½²)
- [ğŸ® ä½¿ç”¨æŒ‡å—](#-ä½¿ç”¨æŒ‡å—)
- [ğŸ“¸ ç•Œé¢æˆªå›¾](#-ç•Œé¢æˆªå›¾)
- [ğŸ“š API æ–‡æ¡£](#-api-æ–‡æ¡£)
- [â“ æ•…éšœæ’é™¤](#-æ•…éšœæ’é™¤)

## ğŸ¯ é¡¹ç›®ç®€ä»‹

åŸºäºä»¥å¤ªåŠçš„å»ä¸­å¿ƒåŒ–èµ›å½©å¹³å°ï¼Œæ”¯æŒä½“è‚²èµ›äº‹ã€é€‰ç§€èŠ‚ç›®ç­‰ç«çŒœæ´»åŠ¨ã€‚é‡‡ç”¨ERC721ä½œä¸ºå½©ç¥¨å‡­è¯ï¼Œå®ç°æ•°å­—èµ„äº§äº¤æ˜“ã€‚

**æ ¸å¿ƒåˆ›æ–°**ï¼š
- å®Œå…¨å»ä¸­å¿ƒåŒ–ï¼Œæ— éœ€ä¿¡ä»»ç¬¬ä¸‰æ–¹
- ERC721 NFTå½©ç¥¨ï¼Œæ”¯æŒäºŒçº§å¸‚åœºäº¤æ˜“
- æ™ºèƒ½åˆçº¦ä¿è¯å…¬å¹³é€æ˜çš„ç»“ç®—

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- **å¤šé¡¹ç›®èµ›å½©**ï¼šæ”¯æŒåŒæ—¶è¿è¡Œå¤šä¸ªç«çŒœé¡¹ç›®
- **ERC721å½©ç¥¨**ï¼šè·å¾—NFTå‡­è¯ï¼Œå¯æ°¸ä¹…ä¿å­˜
- **äºŒçº§å¸‚åœº**ï¼šç©å®¶é—´è‡ªç”±äº¤æ˜“å½©ç¥¨
- **å…¬å¹³ç»“ç®—**ï¼šæ™ºèƒ½åˆçº¦è‡ªåŠ¨æŒ‰æ¯”ä¾‹åˆ†é…å¥–åŠ±

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ä¸€é”®å¯åŠ¨
```bash
git clone <your-repo-url>
cd demo-lottery-application
./start.sh
```

### æ‰‹åŠ¨å¯åŠ¨
```bash
# 1. å¯åŠ¨åŒºå—é“¾ç½‘ç»œ
npx ganache-cli --port 8545 --deterministic

# 2. éƒ¨ç½²åˆçº¦
cd contracts && npm install && npx hardhat run scripts/deploy.ts --network ganache

# 3. å¯åŠ¨å‰ç«¯
cd ../lottery-frontend && npm install && npm start
```

è®¿é—®ï¼šhttp://localhost:3000

## ğŸ“¦ å®‰è£…éƒ¨ç½²

### ç³»ç»Ÿè¦æ±‚
- Node.js 16+
- npm 7+
- MetaMask æµè§ˆå™¨æ‰©å±•

### é…ç½® MetaMask
1. æ·»åŠ æœ¬åœ°ç½‘ç»œï¼š
   - ç½‘ç»œåç§°: `Ganache Local`
   - RPC URL: `http://127.0.0.1:8545`
   - Chain ID: `1337`
2. å¯¼å…¥æµ‹è¯•è´¦æˆ·ç§é’¥ï¼š
   ```
   0xaf961e56824bc8e6617c4107413ed34f9c85a11ef84b3834e45c825bc2d0111b
   ```

## ğŸ® ä½¿ç”¨æŒ‡å—

### ç®¡ç†å‘˜æ“ä½œ
1. è¿æ¥ç®¡ç†å‘˜é’±åŒ…
2. åˆ›å»ºèµ›å½©é¡¹ç›®ï¼ˆè®¾ç½®æ ‡é¢˜ã€é€‰é¡¹ã€å¥–æ± ã€æ—¶é—´ï¼‰
3. ç­‰å¾…ç”¨æˆ·æŠ•æ³¨
4. é¡¹ç›®åˆ°æœŸåå…¬å¸ƒç»“æœå¹¶ç»“ç®—

### ç©å®¶æ“ä½œ
1. è¿æ¥é’±åŒ…å¹¶é¢†å–æµ‹è¯•ä»£å¸
2. æµè§ˆé¡¹ç›®å¹¶é€‰æ‹©æŠ•æ³¨
3. è·å¾—ERC721å½©ç¥¨å‡­è¯
4. å¯åœ¨äºŒçº§å¸‚åœºäº¤æ˜“å½©ç¥¨
5. ç­‰å¾…ç»“ç®—è·å¾—å¥–åŠ±

### å¥–é‡‘è®¡ç®—
å¥–åŠ± = (ä¸ªäººæŠ•æ³¨é‡‘é¢ Ã· è·èƒœé€‰é¡¹æ€»æŠ•æ³¨) Ã— (ç®¡ç†å‘˜å¥–æ±  + æ‰€æœ‰æŠ•æ³¨æ€»é‡‘é¢)

## ğŸ“¸ ç•Œé¢æˆªå›¾

### ğŸ’° ç”³è¯·ç©ºæŠ•ä»£å¸
![ç”³è¯·ç©ºæŠ•ä»£å¸ç•Œé¢](screenshots/01_token_airdrop.png)
*ç”¨æˆ·ç”³è¯·é¢†å–æµ‹è¯•ä»£å¸*

### ğŸ—ï¸ åˆ›å»ºå½©ç¥¨é¡¹ç›®
![åˆ›å»ºå½©ç¥¨é¡¹ç›®ç•Œé¢](screenshots/02_create_lottery.png)
*ç®¡ç†å‘˜åˆ›å»ºèµ›å½©é¡¹ç›®è¡¨å•*

### ğŸ”— åˆ›å»ºå½©ç¥¨æ—¶çš„MetaMaskäº¤äº’
![åˆ›å»ºå½©ç¥¨æ—¶çš„MetaMaskäº¤äº’](screenshots/03_metamask_interaction.png)
*åˆ›å»ºé¡¹ç›®æ—¶çš„åŒºå—é“¾äº¤æ˜“ç¡®è®¤*

### ğŸ“‹ æ˜¾ç¤ºå·²æœ‰å½©ç¥¨åˆ—è¡¨
![æ˜¾ç¤ºå·²æœ‰å½©ç¥¨åˆ—è¡¨ç•Œé¢](screenshots/04_ticket_list.png)
*ç”¨æˆ·æŸ¥çœ‹å·²æ‹¥æœ‰çš„å½©ç¥¨å‡­è¯*

### ğŸ‘‘ ç®¡ç†å‘˜æ‰‹åŠ¨ç»“ç®—æŒ‰é’®
![ç®¡ç†å‘˜æ‰‹åŠ¨ç»“ç®—æŒ‰é’®ç•Œé¢](screenshots/05_admin_settle_button.png)
*ç®¡ç†å‘˜å¯çœ‹åˆ°æ‰‹åŠ¨ç»“ç®—é¡¹ç›®æŒ‰é’®*

### ğŸ² æŠ•æ³¨å½©ç¥¨
![æŠ•æ³¨å½©ç¥¨ç•Œé¢](screenshots/06_place_bet.png)
*ç”¨æˆ·é€‰æ‹©æŠ•æ³¨é€‰é¡¹å’Œé‡‘é¢*

### ğŸ’¸ æŒ‚ç‰Œå‡ºå”®å½©ç¥¨
![æŒ‚ç‰Œå‡ºå”®å½©ç¥¨ç•Œé¢](screenshots/07_list_ticket.png)
*ç”¨æˆ·è®¾ç½®å½©ç¥¨æŒ‚ç‰Œä»·æ ¼*

### ğŸ›’ è´­ä¹°åˆ«äººæŒ‚ç‰Œçš„å½©ç¥¨
![è´­ä¹°åˆ«äººæŒ‚ç‰Œçš„å½©ç¥¨ç•Œé¢](screenshots/08_buy_ticket.png)
*ç”¨æˆ·ä»å¸‚åœºè´­ä¹°ä»–äººæŒ‚ç‰Œçš„å½©ç¥¨*

### âš–ï¸ ç®¡ç†å‘˜æ‰‹åŠ¨ç»“ç®—è¯¦æƒ…
![ç®¡ç†å‘˜æ‰‹åŠ¨ç»“ç®—è¯¦æƒ…ç•Œé¢](screenshots/09_admin_settle_detail.png)
*ç®¡ç†å‘˜é€‰æ‹©è·èƒœé€‰é¡¹å¹¶ç»“ç®—é¡¹ç›®*

## ğŸ“š API æ–‡æ¡£

### æ ¸å¿ƒåˆçº¦æ¥å£

#### BettingSystem åˆçº¦
- `createProject(title, options, pool, duration)` - åˆ›å»ºèµ›å½©é¡¹ç›®
- `placeBet(projectId, optionId, amount)` - æŠ•æ³¨
- `settleProject(projectId, winnerOptionId)` - ç»“ç®—é¡¹ç›®

#### LotteryTicket åˆçº¦ (ERC721)
- `mintTicket(to, bettingId, optionId, amount)` - é“¸é€ å½©ç¥¨
- `listTicket(tokenId, price)` - æŒ‚ç‰Œå‡ºå”®
- `buyTicket(tokenId)` - è´­ä¹°å½©ç¥¨

#### MyERC20 åˆçº¦
- `airdrop()` - é¢†å–ä»£å¸ç©ºæŠ•
- `balanceOf(account)` - æŸ¥è¯¢ä½™é¢

## â“ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: åˆçº¦ç¼–è¯‘å¤±è´¥**
A: ç¡®ä¿å®‰è£…äº†æ‰€æœ‰ä¾èµ–ï¼Œè¿è¡Œ `npm install`

**Q: MetaMask è¿æ¥å¤±è´¥**
A: æ£€æŸ¥æ˜¯å¦å®‰è£…äº† MetaMask æ‰©å±•ï¼Œåˆ·æ–°é¡µé¢åé‡è¯•

**Q: äº¤æ˜“å¤±è´¥**
A: æ£€æŸ¥è´¦æˆ·æ˜¯å¦æœ‰è¶³å¤Ÿæµ‹è¯• ETHï¼Œç¡®è®¤ç½‘ç»œè®¾ç½®æ­£ç¡®

**Q: æ— æ³•é¢†å–ç©ºæŠ•**
A: æ¯ä¸ªè´¦æˆ·åªèƒ½é¢†å–ä¸€æ¬¡ç©ºæŠ•

## ğŸ“„ è®¸å¯è¯

MIT License
